{{ $household := .Household }}

<div
  class="relative rounded-lg border-2 bg-card text-card-foreground shadow-sm hover:border-gray-300"
  id="household-{{ $household.HouseholdID }}"
>
  <a
    href="/households/{{ $household.HouseholdID }}/edit"
    hx-target="#household-{{ $household.HouseholdID }}"
    hx-push-url="false"
    hx-swap="outerHTML"
    class="absolute p-2 top-0 right-0 hover:opacity-60 active:opacity-80 transition-opacity duration-150"
    title="Edit household"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
      class="h-4 w-4 pointer-events-none"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"
      />
    </svg>
  </a>
  <a
    href="/households/{{ $household.HouseholdID }}/items"
    class="flex-col p-4 lg:p-6 flex items-center gap-4 pb-2 lg:pb-2"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="24"
      height="24"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="w-10 h-10"
    >
      <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
      <polyline points="9 22 9 12 15 12 15 22"></polyline>
    </svg>
    <div class="flex-col text-center gap-0 max-w-full">
      <h3
        class="whitespace-nowrap tracking-tight text-3xl font-bold text-ellipsis overflow-hidden"
      >
        {{ $household.Name }}
      </h3>
      <span class="text-muted-foreground">{{ $household.Location }}</span>
    </div>
  </a>
  <div class="p-2 lg:p-4 xl:p-6 scroll-parent">
    <div class="max-h-80 scroll-shadows">
    <div class="grid gap-2 lg:gap-4 grid-cols-2">
      {{ range $room := $household.Rooms }} {{ if and $.EditingRoom (eq
      $.EditingRoom.RoomID $room.RoomID) }} {{ template "room_edit" $room }} {{
      else }} {{ template "room_card" $room }} {{end}} {{ end }} {{ if
      $.AddingRoom }} {{ template "room_add" $household.HouseholdID }} {{ end }}
      <a
        href="/households/{{ $household.HouseholdID }}/rooms/create"
        hx-target="this"
        hx-swap="beforebegin"
        hx-push-url="false"
        class="rounded-lg border-2 border-dashed text-card-foreground flex justify-center items-center group cursor-pointer hover:border-gray-300 transition-colors duration-150 p-4 min-h-32"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          viewBox="0 0 490.2 490.2"
          class="h-14 w-14 opacity-40 group-hover:opacity-60 transition-opacity duration-150 group-active:opacity-80"
        >
          <path
            d="M418.5,418.5c95.6-95.6,95.6-251.2,0-346.8s-251.2-95.6-346.8,0s-95.6,251.2,0,346.8S322.9,514.1,418.5,418.5z M89,89    c86.1-86.1,226.1-86.1,312.2,0s86.1,226.1,0,312.2s-226.1,86.1-312.2,0S3,175.1,89,89z"
          />
          <path
            d="M245.1,336.9c3.4,0,6.4-1.4,8.7-3.6c2.2-2.2,3.6-5.3,3.6-8.7v-67.3h67.3c3.4,0,6.4-1.4,8.7-3.6c2.2-2.2,3.6-5.3,3.6-8.7    c0-6.8-5.5-12.3-12.2-12.2h-67.3v-67.3c0-6.8-5.5-12.3-12.2-12.2c-6.8,0-12.3,5.5-12.2,12.2v67.3h-67.3c-6.8,0-12.3,5.5-12.2,12.2    c0,6.8,5.5,12.3,12.2,12.2h67.3v67.3C232.8,331.4,238.3,336.9,245.1,336.9z"
          />
        </svg>
      </a>
    </div>
  </div>
  </div>
</div>
